#!/bin/bash

# Script Ù„Ø¥ØµÙ„Ø§Ø­ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
# ØªØ´ØºÙŠÙ„Ù‡ Ø¨Ù€: bash fix-permissions.sh

echo "ðŸ”§ Ø¨Ø¯Ø¡ Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª..."

# Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
cd "$(dirname "$0")"

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø§Ù„Ùƒ
echo "ðŸ“ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø§Ù„Ùƒ..."
sudo chown -R $(whoami) .

# Ø¥ØµÙ„Ø§Ø­ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª
echo "ðŸ” Ø¥ØµÙ„Ø§Ø­ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª..."
chmod -R 755 .

# Ø¥ØµÙ„Ø§Ø­ ØµÙ„Ø§Ø­ÙŠØ§Øª node_modules
echo "ðŸ“¦ Ø¥ØµÙ„Ø§Ø­ ØµÙ„Ø§Ø­ÙŠØ§Øª node_modules..."
chmod -R 755 node_modules 2>/dev/null || echo "âš ï¸  node_modules ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯"

# Ø¥Ù†Ø´Ø§Ø¡ .env.local Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙÙ‚ÙˆØ¯Ø§Ù‹
if [ ! -f .env.local ]; then
    echo "ðŸ“„ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù .env.local..."
    touch .env.local
    chmod 644 .env.local
fi

# Ø¥ØµÙ„Ø§Ø­ ØµÙ„Ø§Ø­ÙŠØ§Øª .env.local
chmod 644 .env.local 2>/dev/null || true

echo "âœ… ØªÙ… Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª!"
echo ""
echo "Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:"
echo "1. npm install (Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† node_modules Ù…ÙˆØ¬ÙˆØ¯Ø©)"
echo "2. npm install gsap (Ù„Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©)"
echo "3. npm run dev (Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)"



